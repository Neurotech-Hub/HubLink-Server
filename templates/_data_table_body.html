{% for file in recent_files %}
<tr data-key="{{ file.key }}" class="{{ 'fileActive' if file.last_checked and file.last_checked.replace(tzinfo=timezone.utc) and (now - file.last_checked.replace(tzinfo=timezone.utc)).total_seconds() < 1800 }}">
    <td>
        <div class="form-check">
            <input class="form-check-input file-select" type="checkbox" 
                   data-id="{{ file.id }}"
                   data-size="{{ file.size }}"
                   data-key="{{ file.key }}">
        </div>
    </td>
    <td>
        <div class="d-flex justify-content-between align-items-start gap-2">
            <span class="file-name text-break">{{ file.key }}</span>
            <span class="badge border border-secondary text-secondary small fw-normal flex-shrink-0" role="button"
                onclick="showFileDetails(
                    '{{ file.id }}',
                    '{{ file.key | replace("'", "\\'") }}',
                    '{{ file.size | filesizeformat }}',
                    '{{ file.last_modified.isoformat() if file.last_modified else "" }}',
                    '{{ file.version }}',
                    '{{ file.last_checked.isoformat() if file.last_checked else " Never" }}')"
                style="cursor: pointer;">
                v{{ file.version }}
            </span>
        </div>
    </td>
    <td><small>{{ file.size | filesizeformat }}</small></td>
    <td><small>{{ moment(file.last_modified | default('', true)).fromNow() | default('Never', true) }}</small></td>
</tr>
{% else %}
<tr>
    <td colspan="4" class="text-center">No recent data available.</td>
</tr>
{% endfor %} 